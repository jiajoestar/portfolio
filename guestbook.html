<!-- DRAFT WHILE I RELEARN PHP AND HOW TO MAKE THIS DAMN GUESTBOOK -->

<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8"/>
        <meta name="theme-color" content="#fa9db3">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Guestbook</title>
        <link rel="icon" type="image/x-icon" href="images/favicon.png"/>

        <link rel="stylesheet" href="style.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

        <!-- addng custom fonts -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    </head>

    <body>
        <div class="background"></div>
        <header>
            <nav>
                <div class="logo-container">
                    <a href="index.html"><img src="images/logo.png" alt="portfolio logo" class="logo"></a>
                </div>
                <ul class="nav-links">
                    <li><a href="work.html">work</a></li>
                    <li><a href="about.html">about</a></li>
                    <li><a href="contact.html">contact</a></li>
                    <li><a href="guestbook.php">guestbook</a></li>
                    <button class="theme-button"><i class="fa-regular fa-face-smile"></i></button>
                </ul>
            </nav>

            <button class="hamburger" onclick="toggleSidebar()">☰</button>

            <!-- mobile sidebar menu -->
            <div class="sidebar" id="sidebar">
                <button class="close-btn" onclick="toggleSidebar()">✖</button>
                <a href="work.html">work</a>
                <a href="about.html">about</a>
                <a href="contact.html">contact</a>
            </div>
        </header>

        <div class="content-wrapper">
            <main>
                <div class="content-box">
                    <h1>guestbook</h1>
                    <h2>leave a comment on my website!</h2>

                    <form action="#" method="POST">
                        <label>Name:<input type="text" name="name"/></label><br>
                        <label><input type="text" name="comment"/></label><br>
                        <input type="submit" value="Submit"><br>
                    </form>

                    <?php
                        if (isset($_POST['name']) || isset($_POST['comment'])) {
                            $myfile = fopen("comments.html", "a") or die("there is an error");
                            $writeInFile = "<b>Name:</b>".$_POST['name']."<br>";
                            $writeInFile2 = "<b>Comment:</b>".$_POST['comment']."<br><hr/>";
                            fwrite($myfile, $writeInFile);
                            fwrite($myfile, $writeInFile2);
                            fclose($myfile);

                            require ("comments.html");
                        }

                    ?>
                    

                </div>
            </main>
        </div>

        <footer>
            <p>&copy; Jia Li Lin - 2025</p>
        </footer>

        <!-- javascript for sidebar menu -->
        <script>
            function toggleSidebar() {
                const sidebar = document.getElementById('sidebar');
                sidebar.classList.toggle('active');
            }
        
            // close sidebar when clicking outside
            document.addEventListener('click', (event) => {
                const sidebar = document.getElementById('sidebar');
                if (!sidebar.contains(event.target) && !event.target.matches('.hamburger')) {
                    sidebar.classList.remove('active');
                }
            });
        </script>
    </body>

</html>